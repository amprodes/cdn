{"version":3,"names":["buttonComponentCss","ButtonComponent","setPosition","e","this","showEffect","mouseY","offsetY","mouseX","offsetX","setTimeout","render","h","class","classButton","type","buttonType","disabled","name","onClick","style","Sender","chatBubbleCss","ChatBubble","VIVI","Host","sender","text","appendToMap","map","propName","value","items","get","set","includes","push","debounce","fn","ms","timeoutId","args","clearTimeout","isConnected","maybeElement","cleanupElements","key","keys","filter","stencilSubscription","getRenderingRef","elmsToUpdate","Map","dispose","clear","elm","elements","forceUpdate","reset","forEach","elms","unwrap","val","createObservableMap","defaultState","shouldUpdate","a","b","unwrappedState","states","Object","entries","handlers","_a","cb","oldValue","state","Proxy","_","ownKeys","Array","from","getOwnPropertyDescriptor","enumerable","configurable","has","on","eventName","callback","removeFromArray","onChange","unSet","newValue","unReset","use","subscriptions","unsubs","reduce","subscription","unsub","array","item","index","indexOf","length","createStore","initialState","messages","isMobile","isWritting","chatComponentCss","ChatComponent","id","connectedCallback","newMessages","console","log","checkWindowSize","windowWidth","window","innerWidth","isElementVisible","addMargin","message","i","chatFooterCss","ChatFooter","handleSubmit","preventDefault","USER","chatElement","document","querySelector","HTMLElement","scrollTo","scrollHeight","handleChange","event","target","handleFocus","handleBlur","addEventListener","disconnectedCallback","removeEventListener","showChips","buttonClass","onSubmit","autoComplete","placeholder","onFocus","onBlur","onInput","src","getAssetPath","chatHeaderCss","ChatHeader","chatTemplateCss","ChatTemplate","ref","el","davChipItemCss","DavChipItem","config","optionForBubble","isWraped","davChipListCss","DavChipList","wrapChips"],"sources":["./src/shared/components/button/button.component.scss?tag=app-button&encapsulation=shadow","./src/shared/components/button/button.component.tsx","./src/components/chat-component/enums/sender.ts","./src/components/chat-bubble/chat-bubble.scss?tag=chat-bubble&encapsulation=shadow","./src/components/chat-bubble/chat-bubble.tsx","./node_modules/@stencil/store/dist/index.mjs","./src/store/store.ts","./src/components/chat-component/chat-component.scss?tag=chat-component&encapsulation=shadow","./src/components/chat-component/chat-component.tsx","./src/components/chat-footer/chat-footer.scss?tag=chat-footer&encapsulation=shadow","./src/components/chat-footer/chat-footer.tsx","./src/components/chat-header/chat-header.scss?tag=chat-header&encapsulation=shadow","./src/components/chat-header/chat-header.tsx","./src/components/chat-template/chat-template.scss?tag=chat-template&encapsulation=shadow","./src/components/chat-template/chat-template.tsx","./src/components/dav-chip-item/dav-chip-item.scss?tag=dav-chip-item&encapsulation=shadow","./src/components/dav-chip-item/dav-chip-item.tsx","./src/components/dav-chip-list/dav-chip-list.scss?tag=dav-chip-list&encapsulation=shadow","./src/components/dav-chip-list/dav-chip-list.tsx"],"sourcesContent":["@import url('../../../global/texts.scss');\n:host{\n  font-size: 10px;\n}\n%btn {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 4px;\n  padding: 10px 16px;\n  border-radius: 999px;\n  width: 64vw;\n  max-width: 255px;\n  isolation: isolate;\n  border: none;\n  outline: none;\n  transition: all 0.3s;\n  cursor: pointer;\n  box-shadow: inherit;\n  margin: 0 auto;\n}\n\n.dav-buttonContainer {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  align-items: flex-start;\n  width: 100%;\n  text-align: center;\n  // padding-top: 16px;\n\n  &--row {\n    display: flex;\n    gap: 8px;\n    width: 100%;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n  }\n\n  >p {\n    @extend %defaultFont;\n    font-size: var(--font-small);\n  }\n}\n\n.dav-button {\n  &__text {\n    cursor: pointer;\n    @extend %defaultFont;\n    font-size: var(--font-small);\n    text-align: center;\n\n    &--small {\n      @extend .dav-button__text;\n      @extend %defaultFont;\n      font-size: var(--font-xsmall);\n    }\n  }\n\n  &--primary {\n    @extend %btn;\n    background-color: var(--red-primary);\n    position: relative;\n    overflow: hidden;\n    @extend %defaultFont;\n    font-weight: var(--fw-bold);\n    color: #fff;\n    text-align: center;\n\n    &:hover {\n      background: #B70412;\n    }\n\n    &:active {\n      &:after {\n        width: 500px;\n        height: 500px;\n      }\n    }\n\n    > :nth-child(n) {\n      z-index: 1;\n    }\n\n    &:disabled {\n      background-color: #d1d5e0;\n      @extend %defaultFont;\n      font-weight: var(--fw-bold);\n      color: #838383;\n      text-align: center;\n      pointer-events: none;\n      cursor: not-allowed;\n    }\n  }\n  &--smallPrimary {\n    @extend %btn;\n    width: inherit;\n    max-width: inherit;\n    max-height: 32px;\n    background-color: var(--red-primary);\n    position: relative;\n    overflow: hidden;\n    @extend %defaultFont;\n    font-weight: var(--fw-bold);\n    color: #fff;\n    text-align: center;\n\n    &:hover {\n      background: #B70412;\n    }\n\n    &:active {\n      &:after {\n        width: 500px;\n        height: 500px;\n      }\n    }\n\n    > :nth-child(n) {\n      z-index: 1;\n    }\n\n    &:disabled {\n      background-color: #d1d5e0;\n      @extend %defaultFont;\n      font-weight: var(--fw-bold);\n      color: #838383;\n      text-align: center;\n      pointer-events: none;\n      cursor: not-allowed;\n    }\n  }\n\n  &--secondary {\n    @extend %btn;\n    @extend %defaultFont;\n    font-weight: var(--fw-bold);\n    color: #000000;\n    text-align: center;\n    background-color: initial;\n    position: relative;\n    overflow: hidden;\n\n    &:hover {\n      color: #000000;\n      background: #F1F2F8;\n    }\n\n    &:active {\n      &:after {\n        width: 500px;\n        height: 500px;\n      }\n    }\n\n    > :nth-child(n) {\n      z-index: 1;\n    }\n\n    &:disabled {\n      background-color: transparent;\n      @extend %defaultFont;\n      font-weight: var(--fw-bold);\n      color: #959393;\n      text-align: center;\n      cursor: not-allowed;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n  }\n\n  &--outline {\n    @extend %btn;\n    background-color: transparent;\n    border: 1px solid #404040;\n    box-shadow: none;\n    position: relative;\n    overflow: hidden;\n    @extend %defaultFont;\n    font-weight: var(--fw-bold);\n    color: #404040;\n\n    &:hover {\n      border: 1px solid #000000;\n      color: #000000;\n      background: #F1F2F8;\n    }\n\n    &:active {\n      &:after {\n        width: 500px;\n        height: 500px;\n      }\n    }\n\n    > :nth-child(n) {\n      z-index: 1;\n    }\n\n    &:disabled {\n      border: 1px solid #959393;\n      @extend %defaultFont;\n      font-weight: var(--fw-bold);\n      color: #959393;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n  }\n  &--smallOutline {\n    @extend %btn;\n    width: inherit;\n    max-height: 32px;\n    background-color: transparent;\n    border: 1px solid #404040;\n    box-shadow: none;\n    position: relative;\n    overflow: hidden;\n    @extend %defaultFont;\n    font-weight: var(--fw-bold);\n    color: #404040;\n\n    &:hover {\n      border: 1px solid #000000;\n      color: #000000;\n      background: #F1F2F8;\n    }\n\n    &:active {\n      &:after {\n        width: 500px;\n        height: 500px;\n      }\n    }\n\n    > :nth-child(n) {\n      z-index: 1;\n    }\n\n    &:disabled {\n      border: 1px solid #959393;\n      @extend %defaultFont;\n      font-weight: var(--fw-bold);\n      color: #959393;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n  }\n\n  &--pill {\n    position: relative;\n    display: flex;\n    align-items: center;\n    isolation: isolate;\n    border-radius: 16px;\n    min-width: 136px;\n    transition: all 0.3s;\n    cursor: pointer;\n    background-color: var(--white-ff);\n    overflow: hidden;\n    @include prefix((box-shadow: 2px 2px 12px 0 rgba(166, 171, 189, 0.34)), webkit moz ms o);\n    @extend %defaultFont;\n    font-size: var(--font-xsmall);\n    font-weight: var(--fw-medium);\n    color: var(--black-00);\n    text-align: center;\n\n    p {\n      margin-left: 20px;\n    }\n\n    img {\n      display: flex;\n      left: 40px;\n      top: 0;\n      width: 30px;\n      height: 30px;\n      padding: 6px;\n      background-color: var(--white-ff);\n      border: 1px solid var(--gray-ef);\n      border-radius: 50px;\n    }\n\n    &:hover {\n      background-color: var(--gray-df);\n      box-shadow: none;\n    }\n\n    &:disabled {\n      opacity: 0.7;\n      pointer-events: none;\n      cursor: not-allowed;\n    }\n  }\n\n  &--iconLarge {\n    position: relative;\n    isolation: isolate;\n    transition: all 0.3s;\n    cursor: pointer;\n    background-color: var(--white-ff);\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    border: solid 1px var(--border-icon-button);\n    display: flex;\n    align-self: center;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n\n    img {\n      display: inline-block;\n      width: 24px;\n      height: 24px;\n    }\n\n    &:hover {\n      border: solid 1px var(--gray-ba);\n    }\n\n    &:active {\n      background-color: var(--white-f0);\n    }\n\n    &:disabled {\n      pointer-events: none;\n      opacity: 58%;\n      cursor: not-allowed;\n      border: solid 1px var(--gray_f5);\n\n      &~.dav-button__text {\n        opacity: 58%;\n        cursor: not-allowed;\n      }\n    }\n  }\n  &--iconLargeGrey {\n    position: relative;\n    isolation: isolate;\n    transition: all 0.3s;\n    cursor: pointer;\n    background-color: #ebecf0;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    //border: solid 1px var(--border-icon-button);\n    display: flex;\n    align-self: center;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n\n    img {\n      display: inline-block;\n      width: 24px;\n      height: 24px;\n    }\n\n    &:hover {\n      border: solid 1px var(--gray-ba);\n    }\n\n    &:active {\n      background-color: var(--white-f0);\n    }\n\n    &:disabled {\n      pointer-events: none;\n      opacity: 58%;\n      cursor: not-allowed;\n      border: solid 1px var(--gray_f5);\n\n      &~.dav-button__text {\n        opacity: 58%;\n        cursor: not-allowed;\n      }\n    }\n  }\n\n  &--iconSmall {\n    @extend .dav-button--iconLarge;\n    width: 24px;\n    height: 24px;\n    border: solid 1px var(--border-icon-button-small);\n\n    img {\n      width: 16px;\n      height: 16px;\n    }\n  }\n\n  &--iconSimple {\n    position: relative;\n    cursor: pointer;\n    background-color: transparent;\n    width: 32px;\n    height: 32px;\n    border-radius: 50%;\n\n    img {\n      display: inline-block;\n      width: 18px;\n      height: 18px;\n    }\n\n    &:hover {\n      background-color: var(--background-button-action-hover);\n    }\n\n    &:active {\n      background-color: var(--gray-df);\n    }\n\n    &:disabled {\n      pointer-events: none;\n      opacity: 58%;\n      cursor: not-allowed;\n    }\n  }\n\n  &--back {\n    position: relative;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    padding: 4px 8px 4px 8px;\n    margin-right: 16px;\n    border-radius: 4px;\n    @extend %defaultFont;\n\n\n    &:hover {\n      background-color: var(--background-button-action-hover);\n    }\n\n    &:active {\n      background-color: var(--gray-df);\n    }\n\n    &:disabled {\n      pointer-events: none;\n      opacity: 58%;\n      cursor: not-allowed;\n    }\n  }\n  &--backVivi {\n    position: relative;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    padding: 4px 8px 4px 0px;\n    border-radius: 4px;\n    @extend %defaultFont;\n\n\n    &:hover {\n      background-color: var(--background-button-action-hover);\n    }\n\n    &:active {\n      background-color: var(--gray-df);\n    }\n\n    &:disabled {\n      pointer-events: none;\n      opacity: 58%;\n      cursor: not-allowed;\n    }\n  }\n\n  &__ripple {\n    position: absolute;\n    top: var(--mouse-y);\n    left: var(--mouse-x);\n    display: block;\n    margin: -100px;\n    width: 200px;\n    height: 200px;\n    border-radius: 100px;\n    background: rgba(40, 40, 40, 0.5);\n    transform: scale(0);\n    pointer-events: none;\n    animation: clickeffect 1s ease;\n    -webkit-animation: clickeffect 1s ease;\n  }\n}\n\n@keyframes clickeffect {\n  from {\n    opacity: 0.7;\n    transform: scale(0);\n  }\n\n  to {\n    opacity: 0;\n    transform: scale(2);\n  }\n}\n\n@-webkit-keyframes clickeffect {\n  from {\n    opacity: 0.7;\n    transform: scale(0);\n  }\n\n  to {\n    opacity: 0;\n    transform: scale(2);\n  }\n}\n","/**\n * Component representing a custom button.\n */\nimport { Component, Prop, State, h } from '@stencil/core';\n\n@Component({\n  tag: 'app-button',\n  styleUrl: 'button.component.scss',\n  shadow: true,\n})\nexport class ButtonComponent {\n  /**\n   * The CSS class for the button.\n   * @prop {string} classButton - The class name of the button. Defaults to 'primary'.\n   */\n  @Prop() classButton: string = 'primary';\n\n  /**\n   * Indicates whether the button is disabled.\n   * @prop {boolean} disabled - Set to `true` to disable the button, `false` otherwise. Defaults to `false`.\n   */\n  @Prop() disabled: boolean = false;\n\n  /**\n   * The type of the button.\n   * @prop {string} buttonType - The type attribute of the button. Defaults to 'button'.\n   */\n  @Prop() buttonType: string = 'button';\n\n  /**\n   * The Y position of the mouse cursor.\n   * @state {number} mouseY - The Y position of the mouse cursor.\n   */\n  @State() mouseY: number = 0;\n\n  /**\n   * The X position of the mouse cursor.\n   * @state {number} mouseX - The X position of the mouse cursor.\n   */\n  @State() mouseX: number = 0;\n\n  /**\n   * Indicates whether to show the button effect.\n   * @state {boolean} showEffect - Set to `true` to show the button effect, `false` otherwise.\n   */\n  @State() showEffect: boolean = false;\n\n  /**\n   * Sets the position of the button effect based on the mouse event.\n   * @param {MouseEvent} e - The mouse event.\n   */\n  private setPosition(e: MouseEvent) {\n    this.showEffect = false;\n    this.mouseY = e.offsetY;\n    this.mouseX = e.offsetX;\n\n    setTimeout(() => {\n      this.showEffect = false;\n    }, 1000);\n  }\n\n  render() {\n    return (\n      <div class={`dav-buttonContainer${this.classButton === 'iconSmall' ? '--row' : ''}`}>\n        <button\n          class={`dav-button--${this.classButton}`}\n          type={this.buttonType}\n          disabled={this.disabled}\n          name=\"button\"\n          onClick={this.setPosition}\n        >\n          <slot></slot>\n          <slot name=\"icon\"></slot>\n          {this.showEffect && this.classButton !== 'iconSimple' && this.classButton !== 'back' &&\n            <span\n              class=\"dav-button__ripple\"\n              style={{ '--mouse-y': this.mouseY + 'px', '--mouse-x': this.mouseX + 'px' }}\n            ></span>\n          }\n        </button>\n        {(this.classButton === 'iconSmall' || this.classButton === 'iconLarge' || this.classButton === 'iconLargeGrey') &&\n          <div class={`dav-button__text${this.classButton === 'iconSmall' ? '--small' : ''}`}>\n            <slot name=\"iconText\"></slot>\n          </div>\n        }\n      </div>\n    );\n  }  \n}\n","export enum Sender{\n    VIVI = 'vivi',\n    USER = 'user',\n    ADVISOR = 'advisor'\n  }\n  ","@import '../../global/variables.scss';\n:host{\n  font-size: 10px;\n}\n.dav-chatBubble {\n\n  position: relative;\n\n  &__bubble {\n    display: flex;\n    margin-bottom: 8px;\n  }\n\n  &__user {\n    @extend .dav-chatBubble__bubble;\n    justify-content: flex-end;\n\n  }\n\n  &__vivi {\n    @extend .dav-chatBubble__bubble;\n    justify-content: flex-start;\n  }\n\n  &__advisor {\n    @extend .dav-chatBubble__vivi;\n    margin-left: 8px;\n  }\n\n  &__advisorAvatar {\n    background-color: white;\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    padding: 4px;\n    margin-top: 8px;\n  }\n\n  &__typing {\n    display: flex;\n    gap: 6px;\n\n    .one,\n    .two,\n    .three {\n      width: 8px;\n      height: 8px;\n      border-radius: 50px;\n      animation: bounce 600ms cubic-bezier(.7, 0, 1, 1) alternate infinite;\n      background-color: #aab1bc;\n    }\n\n    .two {\n      animation-delay: 300ms;\n    }\n\n    .three {\n      animation-delay: 600ms;\n    }\n  }\n\n  &__basicBubble {\n    display: flex;\n    flex-direction: column;\n    width: 296px;\n    //min-height: 40px;\n    padding: 8px;\n  }\n\n  &__userBubble {\n    @extend .dav-chatBubble__basicBubble;\n    background-color: $option-hover;\n    border-radius: 8px 8px 0px 8px;\n    //padding-bottom: 16px;\n    position: relative;\n    overflow-wrap: break-word;\n  }\n\n  &__viviBubble {\n    @extend .dav-chatBubble__basicBubble;\n    background-color: white;\n    border-radius: 8px 8px 8px 0px;\n    //padding-bottom: 16px;\n    position: relative;\n  }\n\n  &__TypingBubble {\n    @extend .dav-chatBubble__viviBubble;\n    min-height: 32px;\n    width: auto;\n    padding: 10px 24px 0 24px;\n  }\n\n  &__advisorBubble {\n    @extend .dav-chatBubble__viviBubble;\n    display: flex;\n    position: relative;\n    width: 265px;\n  }\n\n  &__text {\n    @extend %defaultFont;\n    font-size: $font_medium;\n    color: $text_color;\n\n  }\n\n  &__hour {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    font-size: $font_xsmall;\n    color: $gray_6765;\n    padding-right: 4px;\n    padding-bottom: 4px;\n  }\n}\n\n@keyframes bounce {\n  0% {\n    transform: translate(0px, 3px);\n  }\n\n  100% {\n    transform: translate(0px, 3px);\n    box-shadow: 0 0px 10px 0 rgba(0, 0, 0, 0.2), inset 0 5px 4px 0px rgba(255, 255, 255, 0.2), inset 0 -5px 9px 0px rgba(0, 0, 0, 0.5);\n  }\n}","import { Component, Host, h, Prop } from '@stencil/core';\nimport { Sender } from '../chat-component/enums/sender';\n\n/**\n * Represents a chat bubble component.\n */\n@Component({\n  tag: 'chat-bubble',\n  styleUrl: './chat-bubble.scss',\n  shadow: true,\n})\nexport class ChatBubble {\n  /**\n   * The text content of the chat bubble.\n   */\n  @Prop() text: string = 'Message';\n\n  /**\n   * The sender of the chat bubble.\n   */\n  @Prop() sender: Sender = Sender.VIVI;\n\n  render() {\n    return (\n      <Host>\n        <div class={'dav-chatBubble__' + this.sender}>\n          <div class={'dav-chatBubble__' + this.sender + 'Bubble'}>\n            <p class=\"dav-chatBubble__text\">{this.text}</p>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","import { getRenderingRef, forceUpdate } from '@stencil/core';\n\nconst appendToMap = (map, propName, value) => {\n    const items = map.get(propName);\n    if (!items) {\n        map.set(propName, [value]);\n    }\n    else if (!items.includes(value)) {\n        items.push(value);\n    }\n};\nconst debounce = (fn, ms) => {\n    let timeoutId;\n    return (...args) => {\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            timeoutId = 0;\n            fn(...args);\n        }, ms);\n    };\n};\n\n/**\n * Check if a possible element isConnected.\n * The property might not be there, so we check for it.\n *\n * We want it to return true if isConnected is not a property,\n * otherwise we would remove these elements and would not update.\n *\n * Better leak in Edge than to be useless.\n */\nconst isConnected = (maybeElement) => !('isConnected' in maybeElement) || maybeElement.isConnected;\nconst cleanupElements = debounce((map) => {\n    for (let key of map.keys()) {\n        map.set(key, map.get(key).filter(isConnected));\n    }\n}, 2000);\nconst stencilSubscription = () => {\n    if (typeof getRenderingRef !== 'function') {\n        // If we are not in a stencil project, we do nothing.\n        // This function is not really exported by @stencil/core.\n        return {};\n    }\n    const elmsToUpdate = new Map();\n    return {\n        dispose: () => elmsToUpdate.clear(),\n        get: (propName) => {\n            const elm = getRenderingRef();\n            if (elm) {\n                appendToMap(elmsToUpdate, propName, elm);\n            }\n        },\n        set: (propName) => {\n            const elements = elmsToUpdate.get(propName);\n            if (elements) {\n                elmsToUpdate.set(propName, elements.filter(forceUpdate));\n            }\n            cleanupElements(elmsToUpdate);\n        },\n        reset: () => {\n            elmsToUpdate.forEach((elms) => elms.forEach(forceUpdate));\n            cleanupElements(elmsToUpdate);\n        },\n    };\n};\n\nconst unwrap = (val) => (typeof val === 'function' ? val() : val);\nconst createObservableMap = (defaultState, shouldUpdate = (a, b) => a !== b) => {\n    const unwrappedState = unwrap(defaultState);\n    let states = new Map(Object.entries(unwrappedState !== null && unwrappedState !== void 0 ? unwrappedState : {}));\n    const handlers = {\n        dispose: [],\n        get: [],\n        set: [],\n        reset: [],\n    };\n    const reset = () => {\n        var _a;\n        // When resetting the state, the default state may be a function - unwrap it to invoke it.\n        // otherwise, the state won't be properly reset\n        states = new Map(Object.entries((_a = unwrap(defaultState)) !== null && _a !== void 0 ? _a : {}));\n        handlers.reset.forEach((cb) => cb());\n    };\n    const dispose = () => {\n        // Call first dispose as resetting the state would\n        // cause less updates ;)\n        handlers.dispose.forEach((cb) => cb());\n        reset();\n    };\n    const get = (propName) => {\n        handlers.get.forEach((cb) => cb(propName));\n        return states.get(propName);\n    };\n    const set = (propName, value) => {\n        const oldValue = states.get(propName);\n        if (shouldUpdate(value, oldValue, propName)) {\n            states.set(propName, value);\n            handlers.set.forEach((cb) => cb(propName, value, oldValue));\n        }\n    };\n    const state = (typeof Proxy === 'undefined'\n        ? {}\n        : new Proxy(unwrappedState, {\n            get(_, propName) {\n                return get(propName);\n            },\n            ownKeys(_) {\n                return Array.from(states.keys());\n            },\n            getOwnPropertyDescriptor() {\n                return {\n                    enumerable: true,\n                    configurable: true,\n                };\n            },\n            has(_, propName) {\n                return states.has(propName);\n            },\n            set(_, propName, value) {\n                set(propName, value);\n                return true;\n            },\n        }));\n    const on = (eventName, callback) => {\n        handlers[eventName].push(callback);\n        return () => {\n            removeFromArray(handlers[eventName], callback);\n        };\n    };\n    const onChange = (propName, cb) => {\n        const unSet = on('set', (key, newValue) => {\n            if (key === propName) {\n                cb(newValue);\n            }\n        });\n        // We need to unwrap the defaultState because it might be a function.\n        // Otherwise we might not be sending the right reset value.\n        const unReset = on('reset', () => cb(unwrap(defaultState)[propName]));\n        return () => {\n            unSet();\n            unReset();\n        };\n    };\n    const use = (...subscriptions) => {\n        const unsubs = subscriptions.reduce((unsubs, subscription) => {\n            if (subscription.set) {\n                unsubs.push(on('set', subscription.set));\n            }\n            if (subscription.get) {\n                unsubs.push(on('get', subscription.get));\n            }\n            if (subscription.reset) {\n                unsubs.push(on('reset', subscription.reset));\n            }\n            if (subscription.dispose) {\n                unsubs.push(on('dispose', subscription.dispose));\n            }\n            return unsubs;\n        }, []);\n        return () => unsubs.forEach((unsub) => unsub());\n    };\n    const forceUpdate = (key) => {\n        const oldValue = states.get(key);\n        handlers.set.forEach((cb) => cb(key, oldValue, oldValue));\n    };\n    return {\n        state,\n        get,\n        set,\n        on,\n        onChange,\n        use,\n        dispose,\n        reset,\n        forceUpdate,\n    };\n};\nconst removeFromArray = (array, item) => {\n    const index = array.indexOf(item);\n    if (index >= 0) {\n        array[index] = array[array.length - 1];\n        array.length--;\n    }\n};\n\nconst createStore = (defaultState, shouldUpdate) => {\n    const map = createObservableMap(defaultState, shouldUpdate);\n    map.use(stencilSubscription());\n    return map;\n};\n\nexport { createObservableMap, createStore };\n","import { createStore } from '@stencil/store';\nimport ChatMessage from '../components/chat-component/interfaces/ChatMessage.interface';\n\ninterface VIVIState {\n  messages: ChatMessage[];\n  isMobile:boolean;\n  isWritting:boolean;\n}\n\nconst initialState: VIVIState = {\n  messages: [],\n  isMobile:true,\n  isWritting:false\n};\n\nconst { state, onChange } = createStore<VIVIState>(initialState);\n\nexport { state, onChange };\n",":host {\n  display: block;\n}\n.chat-component{\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  //height: calc(100vh - 98px);\n  padding-left: 8px;\n  padding-right: 8px;\n  padding-bottom: 16px;\n  position: relative;\n  &__initial-margin{\n    margin-top: 16px;\n  }\n  \n  \n}\n\n","import { Component, h, State } from '@stencil/core';\nimport { Sender } from './enums/sender';\nimport ChatMessage from './interfaces/ChatMessage.interface';\n// import state from '../../store/store'\nimport { onChange } from '../../store/store';\n\n/**\n * Represents the chat component.\n */\n@Component({\n  tag: 'chat-component',\n  styleUrl: 'chat-component.scss',\n  shadow: true,\n})\nexport class ChatComponent {\n  /**\n   * The array of chat messages.\n   */\n  @State() messages: ChatMessage[] = [\n    { text: \"¡Hola! Soy Vivi, la asistente virtual de Davivienda.\", sender: Sender.VIVI, id: 1 },\n    { text: \"Si tiene clave virtual, ingrese con ella para poder recibir información sobre sus productos.\", sender: Sender.VIVI, id: 2 },\n    { text: \"¿En qué puedo ayudarle hoy?\", sender: Sender.VIVI, id: 3 }\n  ];\n\n  /**\n   * Indicates whether the chat component is visible.\n   */\n  @State() isElementVisible: boolean = true;\n\n  /**\n   * Lifecycle method called when the component is connected to the DOM.\n   * Listens for changes in the 'messages' property of the store and appends new messages to the existing messages array.\n   */\n  connectedCallback() {\n    onChange('messages', (newMessages) => {\n      console.log(newMessages);\n      this.messages = [...this.messages, newMessages[newMessages.length - 1]];\n    });\n  }\n  // eslint-disable-next-line \n  checkWindowSize() {\n    const windowWidth = window.innerWidth;\n    if (windowWidth < 768) { // Ejemplo: Ocultar el elemento cuando el ancho de la ventana es menor que 768px\n      this.isElementVisible = false;\n    } else {\n      this.isElementVisible = true;\n    }\n  }\n\n  /**\n   * Adds margin to the chat component based on the message index.\n   * @param index - The index of the message.\n   * @returns The CSS class for adding margin.\n   * @private\n   */\n  private addMargin(index: number) {\n    if (index === 0) {\n      return 'chat-component__initial-margin';\n    } else {\n      if (this.messages[index].sender !== this.messages[index - 1].sender) {\n        return 'chat-component__initial-margin';\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div class='chat-component'>\n        <div>\n          {\n            this.messages.map((message, i) =>\n              <div key={message.id} class={this.addMargin(i)}>\n                <chat-bubble text={message.text} sender={message.sender}></chat-bubble>\n              </div>\n            )\n          }\n        </div>\n      </div>\n    );\n  }\n}\n",":host {\n  font-size: 10px;\n}\n\n.dav {\n\n  &-footer {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-top: 16px;\n    //padding: 0 8px;\n\n    &__textfield {\n      width: 100%;\n    }\n\n    &__icon {\n      margin-left: 8px;\n      background-color: $red_primary;\n      width: 40px;\n      min-width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n\n      &__img {\n        width: 24px;\n        height: 24px;\n      }\n\n      &__img-send {\n        width: 28px;\n        height: 28px;\n        margin-right: 4px;\n      }\n\n      &__inactive {\n        @extend .dav-footer__icon;\n        background-color: $option_hover;\n        pointer-events: none;\n      }\n    }\n\n  }\n\n  &__full-width {\n    width: 100%;\n  }\n\n  &__equalizer {\n    width: 60px;\n    height: 50px;\n  }\n}\n\n.noPadding {\n  padding-bottom: 0px;\n}\n\n.padding-x {\n  margin-left: 8px;\n  margin-right: 8px;\n}\n\n%textFieldGeneral {\n  width: 100%;\n  height: 40px;\n  padding: 8px;\n  border: 1px solid #D1D5E0;\n  border-radius: 8px;\n  background-color: #ffffff;\n  color: #404040;\n  font-size: $font_small;\n  font-weight: 400;\n  box-sizing: border-box;\n  transition: all .2s ease;\n\n  &:-ms-reveal,\n  &:-ms-clear {\n    display: none;\n  }\n}\n\n.dav-textField {\n  @extend %textFieldGeneral;\n  position: relative;\n  display: flex;\n  gap: 8px;\n  align-items: center;\n\n  input {\n    // width: 100%;\n    border: none;\n    background-color: transparent;\n\n    flex: 1;\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: #9D9D9D;\n    }\n\n    &:disabled {\n      cursor: not-allowed;\n    }\n\n  }\n\n  &__button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 24px;\n    width: 24px;\n    cursor: pointer;\n\n    img {\n      display: inline-block;\n      width: auto;\n    }\n\n  }\n\n  &__disabled {\n    @extend .dav-textField;\n    background-color: #F7F7F7;\n    color: #9D9D9D;\n    cursor: not-allowed;\n    border: 1px solid #EDEDED;\n  }\n\n  &__focused {\n    border: 1px solid #AAB1BC;\n  }\n\n  &__error {\n    border: 1px solid #B70412;\n  }\n\n}","/**\n * Component representing the chat header.\n */\nimport { Component, h, State, getAssetPath } from '@stencil/core';\nimport { state } from '../../store/store';\nimport { Sender } from '../chat-component/enums/sender';\n\n/**\n * Component representing the chat footer.\n */\n@Component({\n  tag: 'chat-footer',\n  styleUrl: 'chat-footer.scss',\n  shadow: true,\n  assetsDirs: ['assets']\n})\nexport class ChatFooter {\n  @State() value: string;\n  @State() isElementVisible = true;\n\n  /**\n   * Lifecycle method called when the component is connected to the DOM.\n   * Adds a window resize event listener and calls the `checkWindowSize` method.\n   */\n  connectedCallback() {\n    window.addEventListener('resize', this.checkWindowSize);\n    this.checkWindowSize();\n  }\n\n  /**\n   * Lifecycle method called when the component is disconnected from the DOM.\n   * Removes the window resize event listener.\n   */\n  disconnectedCallback() {\n    window.removeEventListener('resize', this.checkWindowSize);\n  }\n\n  /**\n   * Checks the window size and updates the `isElementVisible` property based on the window width.\n   * If the window width is greater than 768px, sets `isElementVisible` to `false`.\n   * Otherwise, sets it to `true`.\n   */\n  private checkWindowSize = () => {\n    const windowWidth = window.innerWidth;\n\n    if (windowWidth > 768) {\n      state.isMobile = false;\n    } else {\n      state.isMobile = true\n    }\n  };\n\n  /**\n   * Handles the form submission event.\n   * Prevents the default form submission behavior.\n   * If the value is not empty, adds a new message to the state's messages array\n   * and clears the input field.\n   * @param {Event} e - The form submission event.\n   */\n  private handleSubmit = (e: Event) => {\n    e.preventDefault();\n    if (this.value !== '') {\n      state.messages = [\n        ...state.messages,\n        { text: this.value, sender: Sender.USER, id: state.messages.length + 1 }\n      ];\n      this.value = '';\n\n      const chatElement = document.querySelector('#chat-element');\n      if (chatElement instanceof HTMLElement) {\n        window.scrollTo(0, chatElement.scrollHeight);\n      }\n    }\n  };\n\n  /**\n   * Handles the input change event.\n   * Updates the `value` property with the new input value.\n   * @param {Event} event - The input change event.\n   */\n  private handleChange = (event: Event) => {\n    this.value = (event.target as HTMLInputElement).value;\n  };\n\n  /**\n   * Determines whether to show the chips based on the current state.\n   * Returns `true` if the state is not mobile or if the user is not currently writing a message.\n   * Returns `false` otherwise.\n   * @returns {boolean} A boolean indicating whether to show the chips.\n   */\n  private showChips(): boolean {\n    if (state.isMobile) {\n      if (state.isWritting) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private handleFocus = () => {\n    state.isWritting = true;\n  };\n\n  private handleBlur = () => {\n    state.isWritting = false;\n  };\n\n  render() {\n    const buttonClass = this.value !== '' ? 'dav-footer__icon' : 'dav-footer__icon__inactive';\n\n    return (\n      <div class=\"padding-x\">\n        {this.showChips() && (\n          <dav-chip-list>\n            <dav-chip-item text=\"Desbloquear mi clave virtual\"></dav-chip-item>\n          </dav-chip-list>\n        )}\n        <form onSubmit={this.handleSubmit} class=\"dav-footer noPadding\">\n          <div class=\"dav-textField\">\n            <input\n              autoComplete=\"off\"\n              type=\"text\"\n              value={this.value}\n              placeholder=\"Mensaje\"\n              onFocus={this.handleFocus} // Reference the onFocus event handler\n              onBlur={this.handleBlur} // Reference the onBlur event handler\n              onInput={this.handleChange}\n            />\n          </div>\n\n          <button class={buttonClass} type=\"submit\">\n            <img class=\"dav-footer__icon__img-send\" src={getAssetPath(`./assets/icons/extra-icons/icon-send-message.svg`)} />\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n","@import '../../global/variables.scss';\n:host{\n    font-size: 10px;\n  }\n.dav {\n    &__header {\n        width: 100%;\n        display: flex;\n        height: 48px;\n        align-items: center;\n        background-color: white;\n        justify-content: space-between;\n        padding-left: 8px;\n        padding-right: 16px;\n\n        &__left {\n            display: flex;\n            &__icon {\n                // // background-color: var(--red-primary);\n                // // width: 32px;\n                // // height: 32px;\n                // // border-radius: 50%;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                width: 32px;\n                    height: 32px;\n\n                // &__img {\n                //     width: 16px;\n                //     height: 16px;\n                // }\n            }\n\n            &__name {\n                font-weight: $fw_bold;\n                font-size: $font_large;\n                margin-left: 8px;\n                align-self: center;\n            }\n        }\n        &__camera{\n            width: 24px;\n            height: 24px;\n        }\n    }\n    &-flex{\n        display: flex;\n    }\n    &-bottomSheet {\n        display: flex;\n        flex-direction: column;\n        padding: 0 16px 16px;\n\n        &-title {\n            font-size: $font_larger;\n        }\n\n        &-align {\n            align-self: center;\n        }\n\n        &-arrow {\n            display: none;\n            width: 24px;\n            height: 24px;\n            pointer-events: none;\n            transform: rotateZ(90deg);\n            align-self: center;\n\n\n        }\n        &-terms{\n            font-size: $font_medium;\n            color: $text_color;\n            font-weight: $fw_medium;\n        }\n        &-close {\n            display: none;\n            width: 24px;\n            height: 24px;\n            cursor: pointer;\n            background-color: transparent;\n\n            @media screen and (min-width: 536px) {\n                display: block;\n            }\n        }\n        &-subTitle{\n            display: flex;\n            width: 100%;\n            gap: 8px;\n            font-size: $font_medium;\n            color: black;\n            font-weight: $fw_medium;\n            margin-bottom: 16px;\n        }\n        \n        &-item{\n            display: flex;\n            justify-content: space-between;\n            width: 100%;\n            &__content{\n                display: flex;\n                gap: 8px;\n                &__img{\n                    align-self: flex-start;\n                }\n                &__label{\n                    align-self: center;\n                    color: black;\n                    font-size: $font_medium;\n                }\n            }\n            &__arrow {\n                transform: rotate(180deg);\n                align-self: flex-start;\n            }\n        }\n        &-afterHours{\n            background-color: #f1f2f8;\n            border-radius: 16px;\n            padding: 16px;\n            height: fit-content;\n            &__title{\n                @extend %defaultFont;\n                color: black;\n                font-size: $font_medium;\n                font-weight: $fw_medium;\n            }\n            &__hours{\n                @extend %defaultFont;\n                color: #404040;\n                font-size: $font_medium;\n            }\n        }\n    }\n}\n.artificial-height{\n    height: 156px;\n}\n.artificial-heightNoHour{\n    height: 180px;\n}","/**\n * Component representing the chat header.\n */\nimport { Component, Prop, h, getAssetPath } from '@stencil/core';\n\n@Component({\n  tag: 'chat-header',\n  styleUrl: 'chat-header.scss',\n  shadow: true,\n  assetsDirs: ['assets']\n})\nexport class ChatHeader {\n  /**\n   * Indicates whether the chat is late or not.\n   * @prop {boolean} late - Set to `true` if the chat is late, `false` otherwise. Defaults to `false`.\n   */\n  @Prop() late: boolean = false;\n\n  /**\n   * The name displayed in the chat header.\n   * @prop {string} name - The name to be displayed. Defaults to 'Vivi'.\n   */\n  @Prop() name: string = 'Vivi';\n\n  render() {\n    return (\n      <div>\n        <div class=\"dav__header\">\n          <div class=\"dav__header__left\">\n            <app-button classButton=\"backVivi\">\n              <img src={getAssetPath(`../assets/icons/default-icons/icon-arrow-back.svg`)} />\n            </app-button>\n            <div class=\"dav__header__left__icon\">\n              <img src={getAssetPath(`../assets/icons/extra-icons/icon-vivi-assistant.svg`)} />\n            </div>\n            <p class=\"dav__header__left__name\">\n              {this.name || 'Vivi'}\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","\n@import '../../global/box-container.scss';\n.container {\n  display: flex;\n  width: 100%;\n  height: 100vh;\n  position: relative;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.head {\n  \n  height: fit-content;\n  width: 100%;\n  position: fixed;\n  max-width: 538px;\n  z-index: 1;\n}\n\n.content {\n  position: relative;\n  min-width: 100%;\n  padding: 0;\n  overflow-y: auto;\n  max-width: 538px;\n  margin-top: 48px;\n  //display: flex;\n  //flex-direction: column;\n  //justify-content: space-between;\n  \n}\n\n.footer {\n  background-color: transparent;\n  padding: 0;\n  position: relative;\n  bottom: 16px;\n  width: 100%;\n  //padding-bottom: 16px;\n  max-width: 538px;\n  margin-top: 16px;\n}\n","import { Component, Host, h } from '@stencil/core';\nimport { onChange } from '../../store/store';\n\n@Component({\n  tag: 'chat-template',\n  styleUrl: './chat-template.scss',\n  shadow: true,\n})\nexport class ChatTemplate {\n  private chatElement!: HTMLElement; // define a variable for html element\n  connectedCallback() {\n    onChange('messages', () => {\n      setTimeout(()=>this.chatElement.scrollTo(0,this.chatElement.scrollHeight),10)\n      \n      console.log(this.chatElement.scrollHeight)\n    });\n  }  \n \n  render() {\n    \n    return (\n      <Host>\n        <div class=\"dav-container\">\n          <div class=\"container\">\n            <div class=\"head\">\n              <slot name=\"head\">\n                <chat-header></chat-header>\n              </slot>\n            </div>\n            <div class=\"content\" ref={(el) => this.chatElement= el as HTMLElement}>\n              <slot name=\"content\">\n                <chat-component></chat-component>\n              </slot>\n            </div>\n            <div class=\"footer\">\n              <slot name=\"footer\">\n                <chat-footer></chat-footer>\n              </slot>\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n\n}\n",":host{\n  font-size: 10px;\n}\n.dav-chipItem {\n  background-color: transparent;\n  border: 1px solid #676565;\n  border-radius: 8px;\n  padding: 4px 8px;\n  font-size: 1.4em;\n  color: #676565;\n  white-space: nowrap;\n  overflow-wrap: normal;\n  \n  \n}\n.width{\n  width: 100%;\n  padding: 4px 8px;\n}\n.aligned{\n  text-align: start;\n}\n.wraped{\n  white-space: pre-wrap;\n}","/**\n * Component representing a chip item.\n */\nimport { Component, h, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'dav-chip-item',\n  styleUrl: 'dav-chip-item.scss',\n  shadow: true,\n})\nexport class DavChipItem {\n  /**\n   * Indicates whether the chip item is an option for a bubble.\n   * @prop {boolean} optionForBubble - Set to `true` if the chip item is an option for a bubble, `false` otherwise. Defaults to `false`.\n   */\n  @Prop() optionForBubble: boolean = false;\n\n  /**\n   * Indicates whether the chip item should be wrapped.\n   * @prop {boolean} isWraped - Set to `true` if the chip item should be wrapped, `false` otherwise. Defaults to `true`.\n   */\n  @Prop() isWraped: boolean = true;\n\n  /**\n   * The text displayed on the chip item.\n   * @prop {string} text - The text to be displayed.\n   */\n  @Prop() text: string = '';\n\n  /**\n   * Configures the chip item based on the prop values.\n   * @returns {string} - The configuration string based on the prop values.\n   */\n  private config(): string {\n    let config: string = '';\n\n    if (this.optionForBubble) {\n      config = config + 'width';\n    } else {\n      config = config + 'aligned';\n    }\n\n    if (this.isWraped) {\n      config = config + ' wraped';\n    }\n\n    return config;\n  }\n\n  render() {\n    return (\n      <button class={`dav-chipItem ${this.config()}`}>\n        {this.text}\n      </button>\n    );\n  }\n}\n",":host{\n  font-size: 10px;\n}\n.dav-chipList {\n  display: flex;\n  gap: 8px;\n\n  &--wrapElements {\n      @extend .dav-chipList;\n      flex-wrap: wrap;\n      padding: 0 8px;\n  }\n\n  &--noWrap {\n      @extend .dav-chipList;\n      position: absolute;\n      bottom: 10px;\n      align-items: flex-start;\n      width: 100%;\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n      overflow: scroll;\n      scroll-behavior: smooth;\n\n      &::-webkit-scrollbar {\n          display: none;\n      }\n\n      &:first-child {\n          padding-left: 8px;\n      }\n\n      &:last-child {\n          padding-right: 8px;\n      }\n  }\n}","/**\n * Component representing a chip list.\n */\nimport { Component, h, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'dav-chip-list',\n  styleUrl: 'dav-chip-list.scss',\n  shadow: true,\n})\nexport class DavChipList {\n  /**\n   * Indicates whether the chips should be wrapped.\n   * @prop {boolean} wrapChips - Set to `true` to wrap the chips, `false` otherwise. Defaults to `false`.\n   */\n  @Prop() wrapChips: boolean = false;\n\n  render() {\n    return (\n      <div class={`dav-chipList ${this.wrapChips ? '--wrapElements' : '--noWrap'}`}>\n        <slot></slot>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"}